<root>
  <includes>
    <item name="lv1common" />
    <item name="1f" />
  </includes>
  <level_gen>
    <nodes>
      <node type="subregion" name="trap0">
        <ref name="stonebar" y="0" w="0" h="1" />
        <node type="tile" y="1" w="0" h="1">
          <node type="randompick">
            <node type="subregion" p="1">
              <ref name="garbage_bin_red" />
              <ref name="block0" />
            </node>
            <node type="subregion" p="1">
              <ref name="garbage_bin_yellow" />
              <ref name="block0" />
            </node>
            <node type="subregion" p="1">
              <ref name="garbage_bin_green" />
              <ref name="block0" />
            </node>
            <ref name="block1a" p="30" />
          </node>
        </node>
        <next_level>
          <node type="subregion">
            <node type="randompick" y="0" w="0" h="1">
              <ref name="fallspike" p="1" />
              <node type="empty" p="1" />
            </node>
          </node>
        </next_level>
      </node>
      
      <node type="subregion" name="trap1">
        <ref name="stonebar" y="0" w="0" h="1" />
        <node type="tile" y="1" w="0" h="1">
          <node type="randompick">
            <node type="subregion" p="1">
              <ref name="garbage_bin_red" />
              <ref name="block0" />
            </node>
            <node type="subregion" p="1">
              <ref name="garbage_bin_yellow" />
              <ref name="block0" />
            </node>
            <node type="subregion" p="1">
              <ref name="garbage_bin_green" />
              <ref name="block0" />
            </node>
            <node type="subregion" p="1">
              <ref name="garbage_heap_red" />
              <ref name="block0" />
            </node>
            <node type="subregion" p="1">
              <ref name="garbage_heap_yellow" />
              <ref name="block0" />
            </node>
            <node type="subregion" p="1">
              <ref name="garbage_heap_green" />
              <ref name="block0" />
            </node>
            <ref name="block1a" p="30" />
          </node>
        </node>
        <next_level>
          <node type="subregion">
            <node type="randompick" y="0" w="0" h="1">
              <ref name="fallspike" p="1" />
              <node type="empty" p="1" />
            </node>
          </node>
        </next_level>
      </node>
      
      <node type="randompick" name="lv1style1" >
        <node type="subregion" p="1">
          <ref name="trap0" x="0" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="4" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="8" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="12" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="16" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="20" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="24" y="0" w="8" h="8" />
        </node>
      </node>
      
      <node type="randompick" name="lv1style2" >
        <node type="subregion" p="1">
          <ref name="trap0" x="0" y="0" w="8" h="8" />
          <ref name="trap0" x="24" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="4" y="0" w="8" h="8" />
          <ref name="trap0" x="20" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="8" y="0" w="8" h="8" />
          <ref name="trap0" x="16" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="0" y="0" w="8" h="8" />
          <ref name="trap0" x="16" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="8" y="0" w="8" h="8" />
          <ref name="trap0" x="24" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap1" x="0" y="0" w="16" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap1" x="16" y="0" w="16" h="8" />
        </node>
      </node>
      
      <node type="randompick" name="lv1style3" >
        <node type="subregion" p="1">
          <ref name="trap0" x="0" y="0" w="8" h="8" />
          <ref name="trap0" x="12" y="0" w="8" h="8" />
          <ref name="trap0" x="24" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap1" x="0" y="0" w="16" h="8" />
          <ref name="trap0" x="24" y="0" w="8" h="8" />
        </node>
        <node type="subregion" p="1">
          <ref name="trap0" x="0" y="0" w="8" h="8" />
          <ref name="trap1" x="16" y="0" w="16" h="8" />
        </node>
      </node>

      <node type="randompick" name="lv1fill1">
        <ref name="block1a" p="2" />
        <ref name="block0" p="100" />
      </node>
      <node type="randompick" name="lv1fill2">
        <ref name="block1a" p="4" />
        <ref name="block0" p="100" />
      </node>
      
      <node type="subregion" name="lv1_enemyroom_small">
        <ref name="enemyroom_small" x="0" y="0" w="6" h="6" p="1" />
        <next_level>
          <node type="subregion">
            <ref name="hppack" x="2" y="2" w="2" h="2" />
          </node>
        </next_level>
      </node>
      
      <node type="subregion" name="lv1_1">
        <node type="tile" x="0" y="0" w="32" h="16">
          <ref name="vblock" />
        </node>
        <node type="randomfill" x="0" y="16" w="32" h="8">
          <ref name="stone" sizeminx="2" sizeminy="2" sizemaxx="3" sizemaxy="3" p="1" />
          <ref name="wall" sizeminx="6" sizeminy="4" sizemaxx="12" sizemaxy="8" p="1" />
          <ref name="block0" p="32" />
        </node>
        <node type="tile" x="0" y="24" w="32" h="32" tilex="32" tiley="8">
          <node type="subregion">    
            <node type="randompick" x="0" y="0" w="0" h="0" >
              <ref name="lv1style1" p="1" />
            </node>
            <node type="randomfill" check_block="3" x="0" y="0" w="0" h="0">
              <ref name="stone" sizeminx="2" sizeminy="2" sizemaxx="3" sizemaxy="3" p="1" />
              <ref name="wall" sizeminx="6" sizeminy="4" sizemaxx="12" sizemaxy="8" p="1" />
              <ref name="lv1fill1" p="8" />
            </node>
          </node>
        </node>
        <node type="tile" x="0" y="56" w="32" h="32" tilex="32" tiley="8">
          <node type="subregion">
            <node type="randompick" x="0" y="0" w="0" h="0" >
              <ref name="lv1style1" p="1" />
              <ref name="lv1style2" p="1" />
            </node>
            <node type="randomfill" x="0" y="2" w="0" h="0">
              <ref name="lv1_enemyroom_small" sizeminx="6" sizeminy="6" p="1" />
              <ref name="lv1fill2" p="2" />
            </node>
            <node type="randomfill" check_block="3" x="0" y="0" w="0" h="0">
              <ref name="stone" sizeminx="2" sizeminy="2" sizemaxx="3" sizemaxy="3" p="1" />
              <ref name="wall" sizeminx="6" sizeminy="4" sizemaxx="12" sizemaxy="8" p="1" />
              <ref name="lv1fill2" p="3" />
            </node>
          </node>
        </node>
        <node type="tile" x="0" y="88" w="32" h="24" tilex="32" tiley="8">
          <node type="subregion">
            <node type="randompick" x="0" y="0" w="0" h="0" >
              <ref name="lv1style1" p="1" />
              <ref name="lv1style2" p="1" />
              <ref name="lv1style3" p="1" />
            </node>
            <node type="randomfill" x="0" y="0" w="0" h="0">
              <ref name="enemyroom_large" sizeminx="8" sizeminy="8" p="1" />
              <node type="empty" p="2" />
            </node>
            <node type="randomfill" x="0" y="2" w="0" h="0">
              <ref name="enemyroom_small" sizeminx="6" sizeminy="6" p="1" />
              <ref name="lv1fill2" p="2" />
            </node>
            <node type="randomfill" check_block="3" x="0" y="0" w="0" h="0">
              <ref name="stone" sizeminx="2" sizeminy="2" sizemaxx="3" sizemaxy="3" p="1" />
              <ref name="wall" sizeminx="6" sizeminy="4" sizemaxx="12" sizemaxy="8" p="1" />
              <ref name="lv1fill2" p="1" />
            </node>
          </node>
        </node>
        <node type="tile" x="0" y="112" w="32" h="8" tilex="8" tiley="8">
          <ref name="enemyroom_large" />
        </node>
        <ref name="1f" x="0" y="120" w="32" h="8" />
      </node>

      <node type="subregion" name="lv1_2">
        <node type="tile" x="0" y="0" w="32" h="12">
          <ref name="vblock" />
        </node>
        <node type="lv1type1" x="0" y="12" w="32" h="108">
          <wall>
            <ref name="block0" />
          </wall>
          <block1>
            <ref name="brick_tile_1a" />
          </block1>
          <block2>
            <ref name="brick_tile_1b" />
          </block2>
          <room1>
            <ref name="enemyroom1" />
          </room1>
          <room2>
            <ref name="enemyroom2" />
          </room2>
          <bar1>
            <ref name="stonebar" />
          </bar1>
          <bar2>
            <ref name="stonebar2" />
          </bar2>
          <obj>
            <node type="randompick">
              <ref name="garbage_bin_red" p="1" />
              <ref name="garbage_bin_yellow" p="1" />
              <ref name="garbage_bin_green" p="1" />
            </node>
          </obj>
          <pipe>
            <ref name="pipe0" />
          </pipe>
        </node>
        <ref name="1f" x="0" y="120" w="32" h="8" />
      </node>
    </nodes>
  </level_gen>
</root>