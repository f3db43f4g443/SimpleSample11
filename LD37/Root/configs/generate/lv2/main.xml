<root>
  <includes>
    <item name="lv2common" />
    <item name="2f" />
    <item name="old" />
    <item name="chunk" />
  </includes>
  <level_gen>
    <nodes>

      <node type="lv2type1_1" name="lv2f2">
        <wall>
          <ref name="block0" />
        </wall>
        <road>
          <ref name="road_large" />
        </road>
        <walkable_a>
          <ref name="block0a" />
        </walkable_a>
        <walkable_b>
          <ref name="block0b" />
        </walkable_b>
        <walkable_c>
          <ref name="block0c" />
        </walkable_c>
        <walkable_d>
          <ref name="block0d" />
        </walkable_d>
        <block>
          <node type="randomfill" check_gen_data_name="mask">
            <ref name="block1_tiled" sizeminx="2" sizeminy="2" sizemaxx="4" sizemaxy="4" p="1" />
            <ref name="block1_tiled" sizeminx="2" sizeminy="1" sizemaxx="4" sizemaxy="1" p="1" />
            <ref name="block1_tiled" sizeminx="1" sizeminy="2" sizemaxx="1" sizemaxy="4" p="1" />
            <ref name="block1" sizeminx="1" sizeminy="1" p="1" />
          </node>
        </block>
        <block_a>
          <ref name="block1a" />
        </block_a>
        <block_b>
          <ref name="block1b" />
        </block_b>
        <block_c>
          <ref name="block1c" />
        </block_c>
        <block_d>
          <ref name="block1d" />
        </block_d>

        <house>
          <ref name="house" />
        </house>
        <room>
          <ref name="room" />
        </room>
        
        <cargo>
          <ref name="cargo1s" />
        </cargo>
        <cargo2>
          <ref name="cargo" />
        </cargo2>
      </node>
      
      <node type="lv2type1_1" name="lv2f3">
        <wall>
          <node type="randompick">
            <ref name="block0a" p="1" />
            <ref name="block0b" p="1" />
            <ref name="block0c" p="1" />
            <ref name="block0d" p="1" />
          </node>
        </wall>
        <road>
          <ref name="road_large" />
        </road>
        <walkable_a>
          <ref name="block0a" />
        </walkable_a>
        <walkable_b>
          <ref name="block0b" />
        </walkable_b>
        <walkable_c>
          <ref name="block0c" />
        </walkable_c>
        <walkable_d>
          <ref name="block0d" />
        </walkable_d>
        <block>
          <node type="randomfill" check_gen_data_name="mask">
            <ref name="block1_tiled" sizeminx="2" sizeminy="2" sizemaxx="4" sizemaxy="4" p="1" />
            <ref name="block1_tiled" sizeminx="2" sizeminy="1" sizemaxx="4" sizemaxy="1" p="1" />
            <ref name="block1_tiled" sizeminx="1" sizeminy="2" sizemaxx="1" sizemaxy="4" p="1" />
            <ref name="block1" sizeminx="1" sizeminy="1" p="1" />
          </node>
        </block>
        <block_a>
          <ref name="block1a" />
        </block_a>
        <block_b>
          <ref name="block1b" />
        </block_b>
        <block_c>
          <ref name="block1c" />
        </block_c>
        <block_d>
          <ref name="block1d" />
        </block_d>

        <house>
          <ref name="house" />
        </house>
        <room>
          <ref name="room" />
        </room>
        <fence>
          <ref name="greenbelt" />
        </fence>
        <plant>
          <node type="randomfill" check_gen_data_name="1">
            <ref name="plant1" p="1" />
            <ref name="plant" p="20" />
          </node>
        </plant>
        
        <cargo>
          <ref name="cargo1s" />
        </cargo>
        <cargo2>
          <ref name="cargo" />
        </cargo2>
        <barrel>
          <ref name="barrel" />
        </barrel>
        <barrel1>
          <ref name="barrel1" />
        </barrel1>
      </node>

      <node type="lv2type1_2" name="lv2f4">
        <road>
          <ref name="road_large" />
        </road>
        <walkable_a>
          <ref name="block0a" />
        </walkable_a>
        <walkable_b>
          <ref name="block0b" />
        </walkable_b>
        <walkable_c>
          <ref name="block0c" />
        </walkable_c>
        <walkable_d>
          <ref name="block0d" />
        </walkable_d>

        <room>
          <ref name="room" />
        </room>
        <house>
          <ref name="house" />
        </house>
        <fence>
          <ref name="greenbelt" />
        </fence>
        <plant>
          <node type="randomfill" check_gen_data_name="1">
            <ref name="plant1" p="1" />
            <ref name="plant" p="20" />
          </node>
        </plant>
      </node>
    
      <node type="subregion" name="lv2_1">
        <node type="lv2type1_0" x="0" y="0" w="32" h="60">
          <wall>
            <ref name="block0" />
          </wall>
          <wall1>
            <ref name="wall1" />
          </wall1>
          <house>
            <ref name="house" />
          </house>
          <cargo>
            <ref name="cargo" />
          </cargo>
          <garbage_bin>
            <ref name="garbage_bin1" />
          </garbage_bin>
          <garbage_bin2>
            <ref name="garbage_bin1a" />
          </garbage_bin2>
        </node>
        <ref name="lv2floor_1" x="0" y="60" w="32" h="4" />
        
        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_2" />
        <ref name="lv1_scroll_2" />
        <ref name="lv1_scroll_2" />
        <ref name="lv1_scroll_2" />
      </node>

      <node type="lv2type2_1" name="lv2f5">
        <road>
          <ref name="road_large" />
        </road>
        <walkable_a>
          <ref name="block0a" />
        </walkable_a>
        <walkable_b>
          <ref name="block0b" />
        </walkable_b>
        <walkable_c>
          <ref name="block0c" />
        </walkable_c>
        <walkable_d>
          <ref name="block0d" />
        </walkable_d>
        <block>
          <node type="randomfill" check_gen_data_name="mask">
            <ref name="block1_tiled" sizeminx="2" sizeminy="2" sizemaxx="4" sizemaxy="4" p="1" />
            <ref name="block1_tiled" sizeminx="2" sizeminy="1" sizemaxx="4" sizemaxy="1" p="1" />
            <ref name="block1_tiled" sizeminx="1" sizeminy="2" sizemaxx="1" sizemaxy="4" p="1" />
            <ref name="block1" sizeminx="1" sizeminy="1" p="1" />
          </node>
        </block>

        <house>
          <ref name="house" />
        </house>
        <room>
          <ref name="room_1" />
        </room>
        <fence>
          <ref name="greenbelt" />
        </fence>
        <plant>
          <node type="randomfill" check_gen_data_name="1">
            <ref name="plant" p="1" />
          </node>
        </plant>
        
        <cargo>
          <ref name="cargo" />
        </cargo>
        <cargo2>
          <ref name="cargo1s" />
        </cargo2>
        <barrel>
          <ref name="barrel" />
        </barrel>
        <barrel1>
          <ref name="barrel1" />
        </barrel1>
        <control_room>
          <ref name="control_room_1" />
        </control_room>
        <truck>
          <node type="trucknode">
            <base0>
              <ref name="bar_truck_a" />
            </base0>
            <base1>
              <ref name="bar_truck_b" />
            </base1>
            <room0>
              <ref name="control_room_2" />
            </room0>
            <room1>
              <ref name="control_room_3" />
            </room1>
            <cargo>
              <ref name="cargo" />
            </cargo>
            <cargo2>
              <ref name="cargo2_a" />
            </cargo2>
          </node>
        </truck>
      </node>

      <node type="lv2type2_2" name="lv2f6">
        <chunk>
          <ref name="block1_tiled" />
        </chunk>
        <bar>
          <ref name="bar1" />
        </bar>
        <support_a>
          <ref name="pillar_a" />
        </support_a>
        <support_b>
          <ref name="pillar_b" />
        </support_b>
        <road>
          <ref name="road_small" />
        </road>
        <cargo>
          <ref name="cargo" />
        </cargo>
        <big_chunk_1>
          <ref name="billboard" />
        </big_chunk_1>
        <big_chunk_2>
          <node type="trucknode">
            <base0>
              <ref name="bar_truck_a" />
            </base0>
            <base1>
              <ref name="bar_truck_b" />
            </base1>
            <room0>
              <ref name="control_room_2" />
            </room0>
            <room1>
              <ref name="control_room_3" />
            </room1>
            <cargo>
              <ref name="cargo" />
            </cargo>
            <cargo2>
              <ref name="cargo2_a" />
            </cargo2>
          </node>
        </big_chunk_2>
        <room>
          <ref name="room_1" />
        </room>
        <thruster>
          <ref name="cargo1s_thruster" />
        </thruster>
        
        <fill1>
          <node type="randomfill" check_gen_data_name="mask">
            <node type="subregion" sizeminx="4" sizeminy="4" sizemaxx="8" sizemaxy="6" p="25" >
              <ref name="cargo" x="1" y="1" w="-1" h="-1" />
              <node type="tile" x="0" y="0" w="0" h="0">
                <ref name="block0" />
              </node>
            </node>
            <ref name="block1_tiled" sizeminx="2" sizeminy="2" sizemaxx="3" sizemaxy="3" p="1" />
            <ref name="block0" sizeminx="1" sizeminy="1" sizemaxx="1" sizemaxy="1" p="4" />
          </node>
        </fill1>
        
        <fill2>
          <node type="randomfill" check_gen_data_name="mask">
            <ref name="cargo" sizeminx="3" sizeminy="2" sizemaxx="8" sizemaxy="5" p="40" />
            <ref name="block1_tiled" sizeminx="2" sizeminy="2" sizemaxx="4" sizemaxy="4" p="4" />
            <ref name="block1_tiled" sizeminx="2" sizeminy="1" sizemaxx="4" sizemaxy="1" p="4" />
            <ref name="block1_tiled" sizeminx="1" sizeminy="2" sizemaxx="1" sizemaxy="4" p="4" />
            <ref name="block1" sizeminx="1" sizeminy="1" sizemaxx="1" sizemaxy="1" p="1" />
          </node>
        </fill2>
      </node>

      <node type="subregion" name="lv2_2">
        <ref name="lv2f5" x="0" y="0" w="32" h="58" />
        <ref name="lv2floor" x="0" y="58" w="32" h="2" />

        <ref name="lv2f6" x="0" y="60" w="32" h="60" />
        <ref name="2f" x="0" y="120" w="32" h="8" />

        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_0" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_1" />
        <ref name="lv1_scroll_2" />
        <ref name="lv1_scroll_2" />
        <ref name="lv1_scroll_2" />
        <ref name="lv1_scroll_2" />
      </node>

      <node type="subregion" name="test_lv">
        <!--metadata seed="642166666" /-->
        <ref name="lv2_1" x="0" y="0" w="32" h="64" />
      </node>
      
    </nodes>
  </level_gen>
</root>